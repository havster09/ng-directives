<div class="panel panel-primary">
    <div class="panel-heading" ng-click="collapse()"><span state-display="user.level user-ok user-warning user-problem user-error">{{user.name}}</span></div>
    <div class="panel-body" ng-hide="collapsed">
        <address></address>
        <div ng-show="user.friends"><h4>Friends:</h4>
            <ul class="list-unstyled">
                <li ng-repeat="friend in user.friends">{{$index}}{{friend}}
                    <remove-friend method="removeFriend(friend)"></remove-friend> <!--call parent removeFriend() from directive via method attr &method-->
                </li>
            </ul>
        </div>
        <div ng-show="user.rank">Rank:{{user.rank}}</div>
        <button ng-show="!user.rank" class="btn btn-success" ng-click="knightMe(user)">Knight Me</button>
        <input type="text" value="{{user.name}}"/>
    </div>
</div>